:root{
  --bg:#0b1220;
  --panel:rgba(18,28,46,.92);
  --panel2:rgba(18,28,46,.72);
  --border:rgba(255,255,255,.10);
  --text:#eef3ff;
  --muted:rgba(238,243,255,.72);
  --primary:#6ea8ff;
  --good:#4ee6a5;
  --bad:#ff6e7a;
  --shadow:0 18px 60px rgba(0,0,0,.45);
  --radius:18px;
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  background: radial-gradient(1000px 600px at 20% 0%, #172a5a 0%, var(--bg) 55%);
  color: var(--text);
}

header{
  position: sticky;
  top:0;
  z-index: 20;
  background: rgba(11,18,32,.70);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--border);
}

.headrow{
  max-width: 980px;
  margin: 0 auto;
  padding: 12px 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
}

.brand{display:flex; gap:10px; align-items:center; min-width: 0;}
.flag{width:28px; height:18px; border-radius:6px; overflow:hidden; box-shadow: 0 8px 20px rgba(0,0,0,.28); flex: 0 0 auto;}

header h1{
  margin:0;
  font-size: 18px;
  line-height: 1.1;
  letter-spacing: .2px;
  white-space: nowrap;
  overflow:hidden;
  text-overflow: ellipsis;
}

.sub{margin-top:4px; font-size: 12px; color: var(--muted);}

.headstats{display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end;}

.container{max-width: 980px; margin: 0 auto; padding: 14px;}

.box{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 12px;
  box-shadow: var(--shadow);
}

.bar{
  display:flex;
  flex-wrap:wrap;
  gap: 10px;
  align-items:center;
  margin-bottom: 12px;
}

.pill{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.06);
  font-size: 12px;
  color: var(--muted);
}

select{
  background: rgba(0,0,0,.18);
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 6px 10px;
  outline: none;
}

button{
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.06);
  color: var(--text);
  cursor: pointer;
  font-weight: 650;
}
button:hover{background: rgba(255,255,255,.10)}
button:disabled{opacity:.55; cursor:not-allowed}

button.primary{
  border-color: rgba(110,168,255,.55);
  background: rgba(110,168,255,.18);
}
button.danger{
  border-color: rgba(255,110,122,.60);
  background: rgba(255,110,122,.14);
}

.row{display:flex; gap: 12px; flex-wrap:wrap;}
.left{flex: 1 1 260px;}
.right{flex: 2 1 380px;}

.muted{color: var(--muted); font-size: 12px;}

.indexgrid{display:grid; grid-template-columns: repeat(10, 1fr); gap: 8px;}
@media (max-width: 560px){
  .indexgrid{grid-template-columns: repeat(8, 1fr);}
}

.qbtn{
  padding: 10px 0;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.04);
  color: var(--text);
  font-weight: 750;
}
.qbtn.current{border-color: rgba(110,168,255,.70); background: rgba(110,168,255,.16)}
.qbtn.good{border-color: rgba(78,230,165,.65); background: rgba(78,230,165,.12)}
.qbtn.bad{border-color: rgba(255,110,122,.65); background: rgba(255,110,122,.12)}

.question h2{
  margin: 6px 0 12px;
  font-size: 18px;
  line-height: 1.25;
}

.opt{
  display:block;
  width:100%;
  text-align:left;
  margin: 10px 0;
}
.opt.good{border-color: rgba(78,230,165,.65); background: rgba(78,230,165,.12)}
.opt.bad{border-color: rgba(255,110,122,.65); background: rgba(255,110,122,.12)}

.explain{
  margin-top: 12px;
  padding: 12px;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,.04);
}
.explain .title{font-weight: 800; margin-bottom: 6px;}

/* Post-it: più "studio" */
#postit{
  border-left: 6px solid rgba(110,168,255,.75);
  background: rgba(110,168,255,.08);
}

#feedbackBox.good{border-left: 6px solid rgba(78,230,165,.75); background: rgba(78,230,165,.08);}
#feedbackBox.bad{border-left: 6px solid rgba(255,110,122,.75); background: rgba(255,110,122,.08);}

/* Input aperto: grande e leggibile */
.textinput,
#openInput,
#fillInput{
  width:100%;
  padding: 14px 14px;
  border-radius: 16px;
  border: 1px solid rgba(110,168,255,.35);
  background: rgba(0,0,0,.18);
  color: var(--text);
  outline: none;
  font-size: 16px;
}
.textinput:focus,
#openInput:focus,
#fillInput:focus{border-color: rgba(110,168,255,.75)}

/* Skills */
.skills{margin: 12px 0 14px; background: var(--panel2);}
.skills__head{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom: 8px;}
.skills__grid{display:grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 10px;}
@media (max-width: 680px){
  .skills__grid{grid-template-columns: 1fr;}
}
.skill{padding: 10px; border-radius: 16px; border:1px solid var(--border); background: rgba(255,255,255,.04);}
.skill__top{display:flex; justify-content:space-between; gap:10px; margin-bottom: 6px; font-size: 13px;}
.skill__bar{height: 10px; border-radius: 999px; border:1px solid var(--border); background: rgba(0,0,0,.18); overflow:hidden;}
.skill__fill{height: 100%; width:0%; background: linear-gradient(90deg, rgba(110,168,255,.95), rgba(78,230,165,.95));}

/* Click-to-translate */
.gloss-word{
  cursor:pointer;
  padding: 0 2px;
  border-radius: 8px;
  border: 1px dashed rgba(255,255,255,.18);
}
.gloss-word:hover{background: rgba(255,255,255,.08)}

.gloss{
  position: fixed;
  z-index: 9999;
  max-width: 320px;
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: rgba(18,28,46,.96);
  box-shadow: var(--shadow);
}
.gloss.hidden{display:none;}
.gloss_it{font-size: 16px; font-weight: 800;}
.gloss_es{font-size: 12px; color: var(--muted); margin-top: 4px;}

/* Toast / badge */
.toast{
  position: fixed;
  left: 12px;
  right: 12px;
  bottom: 16px;
  max-width: 520px;
  margin: 0 auto;
  display:flex;
  gap: 12px;
  align-items:flex-start;
  padding: 12px;
  border-radius: 18px;
  border: 1px solid var(--border);
  background: rgba(18,28,46,.96);
  box-shadow: var(--shadow);
}
.toast.hidden{display:none;}
.toast__icon{font-size: 22px; line-height: 1;}
.toast__title{font-weight: 900;}
.toast__text{color: var(--muted); font-size: 13px; margin-top: 2px;}

/* Mobile: tap targets più comodi */
@media (max-width: 520px){
  .container{padding: 12px;}
  button{width: 100%;}
  .bar{gap: 8px;}
  .headrow{padding: 10px 12px;}
}
